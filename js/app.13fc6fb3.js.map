{"version":3,"file":"js/app.13fc6fb3.js","mappings":"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","sources":["webpack://meeting-manager/./src/components/LoadSpinner.vue?191e","webpack://meeting-manager/./src/components/LoadSpinner.vue","webpack://meeting-manager/./src/components/LoadSpinner.vue?6950","webpack://meeting-manager/./src/components/DatePicker.vue?9230","webpack://meeting-manager/./src/components/DatePicker.vue","webpack://meeting-manager/./src/components/DatePicker.vue?92d3","webpack://meeting-manager/./src/components/BottomPagination.vue?53cf","webpack://meeting-manager/./src/components/BottomPagination.vue","webpack://meeting-manager/./src/components/BottomPagination.vue?3a8a","webpack://meeting-manager/./src/components/Agent/AgentAvatarList.vue?9f0f","webpack://meeting-manager/./src/components/Agent/AgentAvatarList.vue","webpack://meeting-manager/./src/components/Agent/AgentAvatarList.vue?a24d","webpack://meeting-manager/./src/components/Agent/SelectAgents.vue?dd0e","webpack://meeting-manager/./src/components/Agent/SelectAgents.vue","webpack://meeting-manager/./src/components/Agent/SelectAgents.vue?18d5","webpack://meeting-manager/./src/utils/common.ts","webpack://meeting-manager/./src/utils/filter.ts","webpack://meeting-manager/./src/utils/appointment.ts","webpack://meeting-manager/./src/utils/validator.ts","webpack://meeting-manager/./src/service/airtables.service.ts","webpack://meeting-manager/./src/service/index.ts","webpack://meeting-manager/./src/components/Appointment/AppointmentList.vue?d050","webpack://meeting-manager/./src/components/Appointment/AppointmentList.vue","webpack://meeting-manager/./src/components/Appointment/AppointmentList.vue?3b0a","webpack://meeting-manager/./src/components/Appointment/AppointmentListItem.vue?acb0","webpack://meeting-manager/./src/components/Appointment/AppointmentListItem.vue","webpack://meeting-manager/./src/components/Appointment/AppointmentListItem.vue?c261","webpack://meeting-manager/./src/components/Appointment/AppointmentForm.vue?326a","webpack://meeting-manager/./src/components/Appointment/AppointmentForm.vue","webpack://meeting-manager/./src/components/Appointment/AppointmentForm.vue?91ae","webpack://meeting-manager/./src/components/Appointment/AppointmentStatus.vue?7a0a","webpack://meeting-manager/./src/components/Appointment/AppointmentStatus.vue","webpack://meeting-manager/./src/components/Appointment/AppointmentStatus.vue?2be0","webpack://meeting-manager/./src/register-component.ts","webpack://meeting-manager/./src/vuetify-plugin.ts","webpack://meeting-manager/./src/store.ts","webpack://meeting-manager/./src/App.vue","webpack://meeting-manager/./src/App.vue?7ccd","webpack://meeting-manager/./src/main.ts","webpack://meeting-manager/webpack/bootstrap","webpack://meeting-manager/webpack/runtime/chunk loaded","webpack://meeting-manager/webpack/runtime/compat get default export","webpack://meeting-manager/webpack/runtime/define property getters","webpack://meeting-manager/webpack/runtime/global","webpack://meeting-manager/webpack/runtime/hasOwnProperty shorthand","webpack://meeting-manager/webpack/runtime/make namespace object","webpack://meeting-manager/webpack/runtime/jsonp chunk loading","webpack://meeting-manager/webpack/startup"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { State } from \"../store\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoadSpinner',\n  setup(__props) {\n\r\nconst store = useStore<State>();\r\n\r\nconst isLoading = computed(() => store.getters.isLoading);\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    modelValue: isLoading.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isLoading).value = $event)),\n    persistent: \"\",\n    width: \"auto\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { color: \"white\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_progress_circular, {\n                indeterminate: \"\",\n                color: \"primary\",\n                size: 128,\n                width: 16\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_card_title, { style: {\"text-align\":\"center\"} }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Loading...\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<template>\r\n    <v-dialog v-model=\"isLoading\" persistent width=\"auto\">\r\n        <v-card color=\"white\">\r\n            <v-card-text>\r\n                <v-progress-circular indeterminate color=\"primary\" :size=\"128\" :width=\"16\"></v-progress-circular>\r\n            </v-card-text>\r\n            <v-card-title style=\"text-align: center;\">Loading...</v-card-title>\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { State } from \"../store\";\r\n\r\nconst store = useStore<State>();\r\n\r\nconst isLoading = computed(() => store.getters.isLoading);\r\n\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import script from \"./LoadSpinner.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LoadSpinner.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-67493190\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"container\" }\n\nimport { ref, computed, watch, } from \"vue\";\r\n\r\ntype Props = {\r\n    modelValue: string, // ISO string\r\n    label: string,\r\n    disableAfter?: string,\r\n    disableBefore?: string\r\n}\r\ntype Emit = {\r\n    (e: \"date-changed\", value: string | null): void;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DatePicker',\n  props: {\n    modelValue: {},\n    label: { default: \"Select Date\" },\n    disableAfter: {},\n    disableBefore: {}\n  },\n  emits: [\"date-changed\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props\r\n\r\n/* eslint-disable no-unused-vars */\r\nconst emit = __emit;\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst menu = ref<boolean>(false)\r\nconst ISOdateString = ref<string>(props.modelValue ? new Date(props.modelValue).toISOString() : new Date().toISOString())\r\nconst date = computed({\r\n    get: () => {\r\n        return new Date(ISOdateString.value);\r\n    },\r\n    set: (val: Date) => {\r\n        ISOdateString.value = val.toISOString();\r\n    },\r\n})\r\n\r\nconst localDateString = computed<string>(() => {\r\n    return new Date(ISOdateString.value).toLocaleDateString()\r\n})\r\n\r\nfunction updateTimestamp() {\r\n    ISOdateString.value = new Date(date.value).toISOString();\r\n    //console.log(\"dateString\", ISOdateString.value);\r\n    emit(\"date-changed\", ISOdateString.value);\r\n}\r\n\r\n\r\nconst isDateAllowed = (date: unknown) => {\r\n    const cond1 = props.disableBefore ? new Date(date as string) >= new Date(props.disableBefore) : true;\r\n    const cond2 = props.disableAfter ? new Date(date as string) <= new Date(props.disableAfter) : true;\r\n    return cond1 && cond2;\r\n};\r\n\r\nwatch(() => props.modelValue,\r\n    (newValue: string | null) => {\r\n        ISOdateString.value = newValue ? newValue : new Date().toISOString();\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_date_picker = _resolveComponent(\"v-date-picker\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_v_menu, {\n        modelValue: menu.value,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((menu).value = $event)),\n        \"close-on-content-click\": false,\n        transition: \"scale-transition\",\n        \"offset-y\": \"\",\n        \"min-width\": \"290px\"\n      }, {\n        activator: _withCtx(({ props: menuProps }) => [\n          _createElementVNode(\"div\", _normalizeProps(_guardReactiveProps(menuProps)), [\n            _createVNode(_component_v_text_field, {\n              modelValue: localDateString.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((localDateString).value = $event)),\n              label: props.label,\n              \"prepend-inner-icon\": \"mdi-calendar\",\n              readonly: \"\",\n              \"hide-details\": \"\",\n              \"bg-color\": \"white\"\n            }, null, 8, [\"modelValue\", \"label\"])\n          ], 16)\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_v_date_picker, {\n            modelValue: date.value,\n            \"onUpdate:modelValue\": [\n              _cache[1] || (_cache[1] = ($event: any) => ((date).value = $event)),\n              updateTimestamp\n            ],\n            \"allowed-dates\": isDateAllowed\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"container\">\r\n        <div class=\"container\">\r\n            <v-menu v-model=\"menu\" :close-on-content-click=\"false\" transition=\"scale-transition\" offset-y\r\n                min-width=\"290px\">\r\n                <template #activator=\"{ props: menuProps }\">\r\n                    <div v-bind=\"menuProps\">\r\n                        <v-text-field v-model=\"localDateString\" :label=\"props.label\" prepend-inner-icon=\"mdi-calendar\"\r\n                            readonly hide-details bg-color=\"white\"></v-text-field>\r\n                    </div>\r\n                </template>\r\n                <v-date-picker v-model=\"date\" @update:model-value=\"updateTimestamp\"\r\n                    :allowed-dates=\"isDateAllowed\"></v-date-picker>\r\n            </v-menu>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, withDefaults, ref, computed, watch, defineEmits, } from \"vue\";\r\n\r\ntype Props = {\r\n    modelValue: string, // ISO string\r\n    label: string,\r\n    disableAfter?: string,\r\n    disableBefore?: string\r\n}\r\nconst props = withDefaults(defineProps<Props>(), { label: \"Select Date\" })\r\n\r\n/* eslint-disable no-unused-vars */\r\ntype Emit = {\r\n    (e: \"date-changed\", value: string | null): void;\r\n};\r\nconst emit = defineEmits<Emit>();\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst menu = ref<boolean>(false)\r\nconst ISOdateString = ref<string>(props.modelValue ? new Date(props.modelValue).toISOString() : new Date().toISOString())\r\nconst date = computed({\r\n    get: () => {\r\n        return new Date(ISOdateString.value);\r\n    },\r\n    set: (val: Date) => {\r\n        ISOdateString.value = val.toISOString();\r\n    },\r\n})\r\n\r\nconst localDateString = computed<string>(() => {\r\n    return new Date(ISOdateString.value).toLocaleDateString()\r\n})\r\n\r\nfunction updateTimestamp() {\r\n    ISOdateString.value = new Date(date.value).toISOString();\r\n    //console.log(\"dateString\", ISOdateString.value);\r\n    emit(\"date-changed\", ISOdateString.value);\r\n}\r\n\r\n\r\nconst isDateAllowed = (date: unknown) => {\r\n    const cond1 = props.disableBefore ? new Date(date as string) >= new Date(props.disableBefore) : true;\r\n    const cond2 = props.disableAfter ? new Date(date as string) <= new Date(props.disableAfter) : true;\r\n    return cond1 && cond2;\r\n};\r\n\r\nwatch(() => props.modelValue,\r\n    (newValue: string | null) => {\r\n        ISOdateString.value = newValue ? newValue : new Date().toISOString();\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    cursor: pointer;\r\n    min-width: 200px;\r\n}\r\n</style>","import script from \"./DatePicker.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DatePicker.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./DatePicker.vue?vue&type=style&index=0&id=67493190&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67493190\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-6a90452c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"pagination\" }\n\nimport { ref, computed } from \"vue\";\r\nimport { useDisplay } from 'vuetify';\r\n\r\ntype Props = {\r\n    totalLength: number\r\n    pageSize: number\r\n    isLast: boolean\r\n};\r\ntype Emit = {\r\n    (e: \"paginate\", value: { offset: number }): void;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BottomPagination',\n  props: {\n    totalLength: {},\n    pageSize: { default: 10 },\n    isLast: { type: Boolean }\n  },\n  emits: [\"paginate\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst { smAndDown } = useDisplay();\r\n\r\nconst props = __props;\r\n\r\n\r\n/* eslint-disable no-unused-vars */\r\nconst emit = __emit;\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst pagination = ref<{ current: number, pageSize: number }>({ current: 1, pageSize: 10 });\r\n\r\n\r\nasync function paginate(to: number) {\r\n    pagination.value.current = to;\r\n\r\n    emit(\"paginate\", { offset: props.pageSize * (pagination.value.current - 1) });\r\n}\r\n\r\nconst totalPagesPossible = computed<number>(() => {\r\n    return Math.ceil(props.totalLength / props.pageSize);\r\n})\r\n\r\nconst buttons = computed<number[]>(() => {\r\n    // const maxButtonCount = 5;\r\n\r\n    const paginationArray = [];\r\n\r\n    // Logic to determine start and end indices based on currentPage\r\n    let start = Math.max(1, pagination.value.current - 2);\r\n    let end = Math.min(start + 4, totalPagesPossible.value);\r\n\r\n    // If at the end, adjust the start index\r\n    if (end - start < 4) {\r\n        start = Math.max(1, end - 4);\r\n    }\r\n    for (let i = start; i <= end; i++) {\r\n        paginationArray.push(i);\r\n    }\r\n    //console.log(\"buttons\", paginationArray);\r\n    return paginationArray;\r\n})\r\n\r\n// Define a computed property for button size\r\nconst buttonSize = computed(() => {\r\n  return smAndDown ? \"small\" : \"default\";\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_v_btn, {\n      disabled: pagination.value.current == 1,\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (paginate(pagination.value.current - 1))),\n      size: buttonSize.value\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_icon, null, {\n          default: _withCtx(() => [\n            _createTextVNode(\"mdi-chevron-left\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"disabled\", \"size\"]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(buttons.value, (i) => {\n      return (_openBlock(), _createBlock(_component_v_btn, {\n        key: `pag_${i}`,\n        small: \"\",\n        disabled: i == pagination.value.current,\n        onClick: ($event: any) => (paginate(i)),\n        size: buttonSize.value\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(i), 1)\n        ]),\n        _: 2\n      }, 1032, [\"disabled\", \"onClick\", \"size\"]))\n    }), 128)),\n    _createVNode(_component_v_btn, {\n      disabled: _ctx.isLast,\n      onClick: _cache[1] || (_cache[1] = ($event: any) => (paginate(pagination.value.current + 1))),\n      size: buttonSize.value\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_v_icon, null, {\n          default: _withCtx(() => [\n            _createTextVNode(\"mdi-chevron-right\")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"disabled\", \"size\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"pagination\">\r\n        <v-btn :disabled=\"pagination.current == 1\" @click=\"paginate(pagination.current - 1)\" :size=\"buttonSize\"><v-icon>mdi-chevron-left</v-icon></v-btn>\r\n        <v-btn v-for=\"i in buttons\" :key=\"`pag_${i}`\" small :disabled=\"i == pagination.current\" @click=\"paginate(i)\" :size=\"buttonSize\">{{\r\n            i }}</v-btn>\r\n        <v-btn :disabled=\"isLast\" @click=\"paginate(pagination.current + 1)\" :size=\"buttonSize\"><v-icon>mdi-chevron-right</v-icon></v-btn>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { withDefaults, defineProps, ref, computed, defineEmits } from \"vue\";\r\nimport { useDisplay } from 'vuetify';\r\n\r\nconst { smAndDown } = useDisplay();\r\n\r\ntype Props = {\r\n    totalLength: number\r\n    pageSize: number\r\n    isLast: boolean\r\n};\r\nconst props = withDefaults(defineProps<Props>(), { pageSize: 10 });\r\n\r\n\r\n/* eslint-disable no-unused-vars */\r\ntype Emit = {\r\n    (e: \"paginate\", value: { offset: number }): void;\r\n};\r\nconst emit = defineEmits<Emit>();\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst pagination = ref<{ current: number, pageSize: number }>({ current: 1, pageSize: 10 });\r\n\r\n\r\nasync function paginate(to: number) {\r\n    pagination.value.current = to;\r\n\r\n    emit(\"paginate\", { offset: props.pageSize * (pagination.value.current - 1) });\r\n}\r\n\r\nconst totalPagesPossible = computed<number>(() => {\r\n    return Math.ceil(props.totalLength / props.pageSize);\r\n})\r\n\r\nconst buttons = computed<number[]>(() => {\r\n    // const maxButtonCount = 5;\r\n\r\n    const paginationArray = [];\r\n\r\n    // Logic to determine start and end indices based on currentPage\r\n    let start = Math.max(1, pagination.value.current - 2);\r\n    let end = Math.min(start + 4, totalPagesPossible.value);\r\n\r\n    // If at the end, adjust the start index\r\n    if (end - start < 4) {\r\n        start = Math.max(1, end - 4);\r\n    }\r\n    for (let i = start; i <= end; i++) {\r\n        paginationArray.push(i);\r\n    }\r\n    //console.log(\"buttons\", paginationArray);\r\n    return paginationArray;\r\n})\r\n\r\n// Define a computed property for button size\r\nconst buttonSize = computed(() => {\r\n  return smAndDown ? \"small\" : \"default\";\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.pagination {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: end;\r\n    gap: 10px;\r\n}\r\n</style>\r\n","import script from \"./BottomPagination.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BottomPagination.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BottomPagination.vue?vue&type=style&index=0&id=6a90452c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a90452c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, mergeProps as _mergeProps, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-1b70cc6b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"avatarList\" }\n\nimport { computed } from \"vue\";\r\nimport { Agent } from \"../../types\";\r\n\r\ntype Props = {\r\n    agents: Agent.Model[],\r\n    l2r: boolean,\r\n    limit: number\r\n};\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AgentAvatarList',\n  props: {\n    agents: {},\n    l2r: { type: Boolean, default: true },\n    limit: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\r\nconst avatars = computed<{ text: string, color: string, tooltip: string }[]>(() => {\r\n    if (!props.agents) return [];\r\n\r\n    let avatars = props.agents.map(item => {\r\n        return {\r\n            text: `${item.name[0]}${item.surname[0]}`,\r\n            color: item.color,\r\n            tooltip: `${item.name} ${item.surname}`\r\n        }\r\n    });\r\n    const overAmount = props.agents.length - props.limit;\r\n    if (overAmount > 0) {\r\n        avatars = avatars.slice(0, props.limit);\r\n        avatars.push({\r\n            text: `+${overAmount}`,\r\n            color: \"rgb(168, 168, 168)\",\r\n            tooltip: props.agents.slice(props.limit).map(o => `${o.name} ${o.surname}`).join(\", \")\r\n        });\r\n    }\r\n    return avatars;\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_avatar = _resolveComponent(\"v-avatar\")!\n  const _component_v_tooltip = _resolveComponent(\"v-tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(avatars.value, (item, i) => {\n      return (_openBlock(), _createBlock(_component_v_tooltip, {\n        key: `agent_${i}`,\n        location: \"top\"\n      }, {\n        activator: _withCtx(({ props: tooltipProps }) => [\n          _createVNode(_component_v_avatar, _mergeProps({ ref_for: true }, tooltipProps, {\n            color: item.color,\n            style: { 'z-index': _ctx.l2r ? 100 - i : 100 + i, 'margin-right': -5 + 'px' }\n          }), {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(item.text), 1)\n            ]),\n            _: 2\n          }, 1040, [\"color\", \"style\"])\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", null, _toDisplayString(item.tooltip), 1)\n        ]),\n        _: 2\n      }, 1024))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"avatarList\">\r\n        <v-tooltip v-for=\"item, i in avatars\" :key=\"`agent_${i}`\" location=\"top\">\r\n            <template v-slot:activator=\"{ props: tooltipProps }\">\r\n                <v-avatar v-bind=\"tooltipProps\" :color=\"item.color\"\r\n                    :style=\"{ 'z-index': l2r ? 100 - i : 100 + i, 'margin-right': -5 + 'px' }\">{{ item.text\r\n                    }}</v-avatar>\r\n            </template>\r\n            <div>{{ item.tooltip }}</div>\r\n        </v-tooltip>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, withDefaults, computed } from \"vue\";\r\nimport { Agent } from \"../../types\";\r\n\r\ntype Props = {\r\n    agents: Agent.Model[],\r\n    l2r: boolean,\r\n    limit: number\r\n};\r\n\r\nconst props = withDefaults(defineProps<Props>(), { l2r: true });\r\n\r\nconst avatars = computed<{ text: string, color: string, tooltip: string }[]>(() => {\r\n    if (!props.agents) return [];\r\n\r\n    let avatars = props.agents.map(item => {\r\n        return {\r\n            text: `${item.name[0]}${item.surname[0]}`,\r\n            color: item.color,\r\n            tooltip: `${item.name} ${item.surname}`\r\n        }\r\n    });\r\n    const overAmount = props.agents.length - props.limit;\r\n    if (overAmount > 0) {\r\n        avatars = avatars.slice(0, props.limit);\r\n        avatars.push({\r\n            text: `+${overAmount}`,\r\n            color: \"rgb(168, 168, 168)\",\r\n            tooltip: props.agents.slice(props.limit).map(o => `${o.name} ${o.surname}`).join(\", \")\r\n        });\r\n    }\r\n    return avatars;\r\n});\r\n\r\n</script>\r\n<style scoped>\r\n.avatarList {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n</style>","import script from \"./AgentAvatarList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AgentAvatarList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AgentAvatarList.vue?vue&type=style&index=0&id=1b70cc6b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b70cc6b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nimport { ref, watch } from \"vue\";\r\nimport { Agent } from \"../../types\";\r\n\r\ntype Props = {\r\n    agents: Agent.Model[],\r\n    modelValue: string[]\r\n};\r\n\r\ntype Emit = {\r\n    (e: \"update:model-value\", value: string[]): void;\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SelectAgents',\n  props: {\n    agents: {},\n    modelValue: {}\n  },\n  emits: [\"update:model-value\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props;\r\n\r\n/* eslint-disable no-unused-vars */\r\nconst emit = __emit;\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst selectedAgents = ref<string[]>([]);\r\n\r\nwatch(() => props.modelValue,\r\n    (newValue: string[]) => {\r\n        //console.log(\"watcher\", newValue);\r\n        if (newValue) {\r\n            selectedAgents.value = newValue;\r\n        }\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\nwatch(selectedAgents,\r\n    (newValue: string[]) => {\r\n        emit(\"update:model-value\", newValue);\r\n    },\r\n    { deep: true }\r\n);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_AgentAvatarList = _resolveComponent(\"AgentAvatarList\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_list_item = _resolveComponent(\"v-list-item\")!\n  const _component_v_list = _resolveComponent(\"v-list\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_menu = _resolveComponent(\"v-menu\")!\n\n  return (_openBlock(), _createBlock(_component_v_menu, {\n    location: \"bottom\",\n    \"close-on-content-click\": false\n  }, {\n    activator: _withCtx(({ props }) => [\n      _createVNode(_component_AgentAvatarList, _mergeProps(props, {\n        agents: _ctx.agents,\n        l2r: false,\n        limit: _ctx.$vuetify.display.smAndUp ? 5 : 3,\n        style: {\"cursor\":\"pointer\"}\n      }), null, 16, [\"agents\", \"limit\"])\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_list, null, {\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.agents, (agent, i) => {\n                return (_openBlock(), _createBlock(_component_v_list_item, {\n                  key: `select_option_${i}`,\n                  class: \"listItem\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_checkbox, {\n                      modelValue: selectedAgents.value,\n                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedAgents).value = $event)),\n                      value: agent.record_id,\n                      label: `${agent.name} ${agent.surname}`,\n                      density: \"compact\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"modelValue\", \"value\", \"label\"])\n                  ]),\n                  _: 2\n                }, 1024))\n              }), 128))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-menu location=\"bottom\" :close-on-content-click=\"false\">\r\n        <template v-slot:activator=\"{ props }\">\r\n            <AgentAvatarList v-bind=\"props\" :agents=\"agents\" :l2r=\"false\" :limit=\"$vuetify.display.smAndUp ? 5 : 3\" style=\"cursor: pointer;\" />\r\n        </template>\r\n        <v-card>\r\n            <v-list>\r\n                <v-list-item v-for=\"agent, i in agents\" :key=\"`select_option_${i}`\" class=\"listItem\">\r\n                    <v-checkbox v-model=\"selectedAgents\" :value=\"agent.record_id\"\r\n                        :label=\"`${agent.name} ${agent.surname}`\" density=\"compact\" hide-details />\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-card>\r\n    </v-menu>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, ref, defineEmits, watch } from \"vue\";\r\nimport { Agent } from \"../../types\";\r\n\r\ntype Props = {\r\n    agents: Agent.Model[],\r\n    modelValue: string[]\r\n};\r\n\r\nconst props = defineProps<Props>();\r\n\r\n/* eslint-disable no-unused-vars */\r\ntype Emit = {\r\n    (e: \"update:model-value\", value: string[]): void;\r\n};\r\nconst emit = defineEmits<Emit>();\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst selectedAgents = ref<string[]>([]);\r\n\r\nwatch(() => props.modelValue,\r\n    (newValue: string[]) => {\r\n        //console.log(\"watcher\", newValue);\r\n        if (newValue) {\r\n            selectedAgents.value = newValue;\r\n        }\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\nwatch(selectedAgents,\r\n    (newValue: string[]) => {\r\n        emit(\"update:model-value\", newValue);\r\n    },\r\n    { deep: true }\r\n);\r\n</script>\r\n<style scoped>\r\n.listItem {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n</style>","import script from \"./SelectAgents.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SelectAgents.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SelectAgents.vue?vue&type=style&index=0&id=5fbc3bb8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5fbc3bb8\"]])\n\nexport default __exports__","import { FieldSet, Records } from \"airtable\";\r\n\r\nexport module COMMON {\r\n    export function deepCopy(original: object | undefined) {\r\n        return JSON.parse(JSON.stringify(original));\r\n    }\r\n\r\n    export module Dates {\r\n        export function getISOStringFromTimestamp(timestamp: number): string {\r\n            const date = new Date(timestamp);\r\n            return date.toISOString();\r\n        }\r\n        export function getDaysBetweenTimestamps(ts1: number, ts2: number): number {\r\n            const diffInMs = Math.abs(ts1 - ts2);\r\n            const msInDay = 24 * 60 * 60 * 1000;\r\n            const diffInDays = Math.floor(diffInMs / msInDay);\r\n            return diffInDays;\r\n        }\r\n\r\n        export function getMS(amount: number, unit: \"hour\" | \"day\" | \"week\" | \"month\" |\"year\") {\r\n            const hourInMS = 60 * 60 * 1000;\r\n            switch (unit) {\r\n                case \"hour\": return hourInMS * amount;\r\n                case \"day\": return hourInMS * 24 * amount;\r\n                case \"week\": return hourInMS * 24 * 7 * amount;\r\n                case \"month\": return hourInMS * 24 * 30 * amount;\r\n                case \"year\": return hourInMS * 24 * 365 * amount;\r\n            }\r\n        }\r\n\r\n        export function dateStringToTS(str: string) {\r\n            const date = new Date(str);\r\n            return date.getTime();\r\n        }\r\n\r\n        export function formatDateTime(str: string) {\r\n            const date = new Date(str);\r\n            \r\n            const day = String(date.getDate()).padStart(2, '0');\r\n            const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed\r\n            const year = date.getFullYear();\r\n            const hours = String(date.getHours()).padStart(2, '0');\r\n            const minutes = String(date.getMinutes()).padStart(2, '0');\r\n          \r\n            return `${day}/${month}/${year} ${hours}:${minutes}`;\r\n          }\r\n        export function isoDateToLocal(str: string) {\r\n            return new Date(str).toLocaleDateString();\r\n        }\r\n    }\r\n\r\n}","export module FILTER {\r\n    export function formatDate(ts: number): string {\r\n        // Create a Date object\r\n        const date = new Date(ts);\r\n\r\n        const dateOptions = {\r\n            day: '2-digit' as const,\r\n            month: '2-digit' as const,\r\n            year: 'numeric' as const\r\n        };\r\n\r\n        const timeOptions = {\r\n            hour: '2-digit' as const,\r\n            minute: '2-digit' as const,\r\n            hour12: false // Use 24-hour time format\r\n        };\r\n\r\n        // Format the date and time\r\n        const formattedDate = new Intl.DateTimeFormat('en-GB', dateOptions).format(date); // en-GB locale for DD/MM/YYYY\r\n        const formattedTime = new Intl.DateTimeFormat('en-GB', timeOptions).format(date); // en-GB locale for 24-hour time\r\n\r\n        // Combine date and time\r\n        const formattedDateTime = `${formattedDate} ${formattedTime}`;\r\n\r\n        //console.log('Formatted DateTime:', formattedDateTime); // \"01/07/2021 00:00\"\r\n        return formattedDateTime;\r\n    }\r\n\r\n    export function truncateString(str: string, limit: number, useEllipsis = true) {\r\n        if (str.length <= limit) return str;\r\n        return str.substring(0, limit) + (useEllipsis ? '...' : '');\r\n    }\r\n}","import { Appointment } from \"@/types\";\r\nimport { COMMON } from \"./common\";\r\nimport { FieldSet, Record } from \"airtable\";\r\n\r\nexport module APPOINTMENT {\r\n    export function getStatus(appointment: Appointment.Model): Appointment.Status {\r\n        if (appointment.isCancelled) return { kind: \"Cancelled\", color: \"red\" };\r\n        const now = Date.now();\r\n        const date = COMMON.Dates.dateStringToTS(appointment.date);\r\n        const kind = now > date ? \"Completed\" : \"Upcoming\";\r\n        return kind == \"Completed\" ? { kind, color: \"green\" } : { kind, color: \"orange\", remainingDays: COMMON.Dates.getDaysBetweenTimestamps(now, date) };\r\n    }\r\n\r\n    export function recordsToModel(record: Record<FieldSet>): Appointment.Model {\r\n        const fields = record.fields;\r\n        const appt = {\r\n            record_id: record.id,\r\n            id: fields.appointment_id as string,\r\n            address: fields.appointment_address as string || \"\",\r\n            date: fields.appointment_date as string,\r\n            isCancelled: fields.is_cancelled as boolean,\r\n            contact: fields.contact_id as string[] || [],\r\n            agent: fields.agent_id as string[] || [],\r\n        }\r\n        return appt;\r\n    }\r\n}","export module VALIDATOR {\r\n    const exists = function (val: any): boolean {\r\n        return val !== undefined && val !== null && val !== \"\";\r\n    };\r\n\r\n    export function required(val: any): boolean | string {\r\n        return exists(val) || \"Required field\";\r\n    }\r\n}","import Airtable from 'airtable';\r\nimport { Agent, Contact, Appointment } from \"../types\";\r\nimport { APPOINTMENT } from '@/utils';\r\n\r\nconst apiKey = process.env.VUE_APP_AIR_TABLES_API_TOKEN;\r\nconst baseID = process.env.VUE_APP_AIR_TABLES_BASE_ID;\r\n\r\nconst base = new Airtable({ apiKey }).base(baseID);\r\n\r\nexport module AppointmentService {\r\n  const tableName = 'tbl9reEf5STrkSA85';// 'Appointments'\r\n\r\n  // export const fetchBatch = async (pageNumber: number) => {\r\n  //   try {\r\n  //     const pageSize = 10;\r\n  //     const offset = pageSize * (pageNumber - 1);\r\n  //     const records = await base(tableName).select({ pageSize, offset }).firstPage();\r\n\r\n  //     console.log(\"Appointment records fethced:\", records.length);\r\n  //     const appointments: Appointment.Model[] = records.map(r => {\r\n  //       const fields = r.fields;\r\n\r\n  //       return {\r\n  //         record_id: r.id,\r\n  //         id: fields.appointment_id as string,\r\n  //         address: fields.appointment_address as string,\r\n  //         date: fields.appointment_date as string,\r\n  //         isCancelled: fields.is_cancelled as boolean,\r\n  //         contact: fields.contact_id as string[],\r\n  //         agent: fields.agent_id as string[],\r\n  //       }\r\n  //     });\r\n  //     //const appointments: any[] = [];\r\n  //     return appointments;\r\n  //   } catch (error) {\r\n  //     console.error('Error fetching records from Airtable:', error);\r\n  //     throw error;\r\n  //   }\r\n  // };\r\n  export const fetchAll = async () => {\r\n    try {\r\n      const records = await base(tableName).select().all();\r\n      console.log(\"Appointment records fethced:\", records.length);\r\n      const appointments = records.map(r => APPOINTMENT.recordsToModel(r));\r\n      return appointments.sort((a1, a2) => new Date(a2.date).getTime() - new Date(a1.date).getTime());\r\n    } catch (error) {\r\n      console.error('Error fetching records from Airtable:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  export const create = async (appointment: Appointment.Model) => {\r\n    try {\r\n      const list = [{\r\n        fields: {\r\n          appointment_date: appointment.date,\r\n          appointment_address: appointment.address,\r\n          contact_id: appointment.contact,\r\n          agent_id: appointment.agent\r\n        }\r\n      }];\r\n      const records = await base(tableName).create(list);\r\n      return records.map(r => APPOINTMENT.recordsToModel(r));\r\n    } catch (error) {\r\n      console.error('Error creating record in Airtable:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  export const update = async (id: string, appointment: Appointment.Model) => {\r\n    try {\r\n      const updates = [{\r\n        id,\r\n        fields: {\r\n          appointment_date: appointment.date,\r\n          appointment_address: appointment.address,\r\n          contact_id: appointment.contact,\r\n          agent_id: appointment.agent\r\n        }\r\n      }];\r\n      const records = await base(tableName).update(updates);\r\n      return records.map(r => APPOINTMENT.recordsToModel(r));\r\n    } catch (error) {\r\n      console.error('Error updating record in Airtable:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n}\r\n\r\nexport module AgentService {\r\n  const tableName = 'tblejF2oJbI8ze105'; //'Agents'\r\n\r\n  export const fetchAll = async () => {\r\n    try {\r\n      const records = await base(tableName).select().all();\r\n      console.log(\"Agent records fethced:\", records.length);\r\n      const agents: Agent.Model[] = records.map(r => {\r\n        const fields = r.fields;\r\n        return {\r\n          record_id: r.id,\r\n          number: fields.number as number,\r\n          name: fields.agent_name as string,\r\n          surname: fields.agent_surname as string,\r\n          appointments: fields.appointments as string[],\r\n          color: fields.color as string\r\n        }\r\n      });\r\n      return agents;\r\n    } catch (error) {\r\n      console.error('Error fetching records from Airtable:', error);\r\n      throw error;\r\n    }\r\n  };\r\n}\r\n\r\nexport module ContactService {\r\n  const tableName = 'tbl0TuknKqXHysejd'; //'Contacts'\r\n\r\n  // export const fetchId = async (id: string) => {\r\n  //   try {\r\n  //     const records = await base(tableName).find(id);\r\n  //     console.log(`ContactService fetch ${id}`, records);\r\n  //     // const contacts: Contact.Model[] = records.map(r => {\r\n  //     //   const fields = r.fields;\r\n  //     //   return {\r\n  //     //     record_id: r.id,\r\n  //     //     ...r.fields\r\n  //     //   }\r\n  //     // });\r\n  //     return records;\r\n  //   } catch (error) {\r\n  //     console.error('Error fetching records from Airtable:', error);\r\n  //     throw error;\r\n  //   }\r\n  // };\r\n\r\n  export const fetchAll = async () => {\r\n    try {\r\n      const records = await base(tableName).select().all();\r\n      console.log(\"Contact records fethced:\", records.length);\r\n      const contacts: Contact.Model[] = records.map(r => {\r\n        const fields = r.fields;\r\n        return {\r\n          record_id: r.id as string,\r\n          id: fields.contact_id as string,\r\n          name: fields.contact_name as string,\r\n          surname: fields.contact_surname as string,\r\n          email: fields.contact_email as string,\r\n          phone: fields.contact_phone as number,\r\n          appointments: fields.appointments as string[]\r\n        }\r\n      });\r\n      return contacts;\r\n    } catch (error) {\r\n      console.error('Error fetching records from Airtable:', error);\r\n      throw error;\r\n    }\r\n  };\r\n}","import {\r\n    AppointmentService as Appointment,\r\n    AgentService as Agent,\r\n    ContactService as Contact\r\n} from \"./airtables.service\"\r\n\r\nexport const SERVICE = {\r\n    Appointment,\r\n    Agent,\r\n    Contact\r\n};","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, renderList as _renderList, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-5447f31b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main\" }\nconst _hoisted_2 = { class: \"filters\" }\nconst _hoisted_3 = { class: \"statusFilter\" }\nconst _hoisted_4 = { class: \"dateFilter\" }\nconst _hoisted_5 = { class: \"searchFilter\" }\nconst _hoisted_6 = { class: \"listHeader\" }\nconst _hoisted_7 = { style: {\"font-weight\":\"600\"} }\nconst _hoisted_8 = { class: \"list\" }\n\nimport { ref, computed, onMounted } from \"vue\";\r\nimport type { Agent, Appointment, Contact, Vuetify } from \"../../types\";\r\nimport { COMMON } from \"../../utils\";\r\nimport { SERVICE } from \"../../service\";\r\nimport { useStore } from \"vuex\";\r\nimport { State } from \"@/store\";\r\n\r\ntype Status = \"\" | \"completed\" | \"upcoming\" | \"cancelled\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AppointmentList',\n  setup(__props) {\n\r\nconst store = useStore<State>();\r\n\r\nconst agents = ref<Agent.Model[]>([]);\r\nconst contacts = ref<Contact.Model[]>([]);\r\nconst appointments = ref<Appointment.Model[]>([]);\r\n\r\nconst filter = ref<{\r\n    status: Status,\r\n    searchText: string,\r\n    from: string,\r\n    to: string,\r\n    agents: string[]\r\n}>({\r\n    status: \"\",\r\n    searchText: \"\",\r\n    from: COMMON.Dates.getISOStringFromTimestamp(Date.now() - COMMON.Dates.getMS(1, \"year\")),\r\n    to: COMMON.Dates.getISOStringFromTimestamp(Date.now() + COMMON.Dates.getMS(1, \"year\")),\r\n    agents: []\r\n})\r\nconst statusOptions: Vuetify.SelectOption<Status>[] = [\r\n    { title: \"All Statuses\", value: \"\" },\r\n    { title: \"Completed\", value: \"completed\" },\r\n    { title: \"Upcoming\", value: \"upcoming\" },\r\n    { title: \"Cancelled\", value: \"cancelled\" },\r\n];\r\n\r\nconst pagination = ref<{ pageSize: number, offset: number }>({ pageSize: 10, offset: 0 });\r\n\r\nconst appointmentDialog = ref<{ open: boolean, model?: Appointment.Model }>({ open: false, model: undefined });\r\n\r\nfunction paginate(offset: number) {\r\n    pagination.value.offset = offset;\r\n    //console.log(\"pagination\", pagination.value);\r\n}\r\nfunction dateChanged(origin: \"to\" | \"from\", date: string) {\r\n    console.log(\"dateChanged\")\r\n    filter.value[origin] = date;\r\n\r\n}\r\nfunction openAppointmentDialog(model?: Appointment.Model) {\r\n    if (model) appointmentDialog.value.model = model;\r\n    appointmentDialog.value.open = true;\r\n}\r\nfunction closeAppointmentDialog() {\r\n    appointmentDialog.value = { open: false, model: undefined };\r\n}\r\n\r\nasync function saveAppointment(model: Appointment.Model) {\r\n    try {\r\n        console.log(\"saveAppointment model\", model);\r\n        if (!appointmentDialog.value.open) return;\r\n\r\n        store.dispatch('SET_LOADING', true);\r\n\r\n        if (appointmentDialog.value.model) {\r\n            //console.log(\"updating appt\", appointmentDialog.value.model.record_id);\r\n            await SERVICE.Appointment.update(appointmentDialog.value.model.record_id, model);\r\n        } else {\r\n            console.log(\"creating appt\");\r\n            await SERVICE.Appointment.create(model);\r\n        }\r\n\r\n        await fetchAppointments(); // temp fix\r\n        // TODO: insert new appt to appointments.value manually\r\n\r\n        closeAppointmentDialog();\r\n    } catch (err) {\r\n        console.error(err)\r\n    } finally {\r\n        store.dispatch('SET_LOADING', false);\r\n    }\r\n\r\n}\r\n\r\nasync function fetchAppointments() {\r\n    const resp = await SERVICE.Appointment.fetchAll();\r\n    //console.log(\"appointments\", resp);\r\n    appointments.value = resp;\r\n}\r\n\r\nasync function fetchAgents() {\r\n    const resp = await SERVICE.Agent.fetchAll();\r\n    agents.value = resp;\r\n}\r\n\r\nasync function fetchContacts() {\r\n    const resp = await SERVICE.Contact.fetchAll();\r\n    contacts.value = resp;\r\n}\r\n\r\nasync function init() {\r\n    try {\r\n        //console.log(\"store.state\", store.state)\r\n        store.dispatch('SET_LOADING', true);\r\n        //console.log(\"store.state\", store.state)\r\n\r\n        await Promise.all([fetchAppointments(), fetchAgents(), fetchContacts()]);\r\n        // console.log(\"agents fetched\", agents.value);\r\n        // console.log(\"contacts fetched\", contacts.value);\r\n        // console.log(\"appointments fetched\", appointments.value);\r\n    } catch (err) {\r\n        console.error(\"init err\", err)\r\n    } finally {\r\n        store.dispatch('SET_LOADING', false);\r\n        //console.log(\"store.state\", store.state)\r\n    }\r\n\r\n}\r\n\r\nconst filteredAppointmentList = computed(() => {\r\n    const list = [...appointments.value].map(a => {\r\n        return {\r\n            appointment: a,\r\n            agents: agents.value.filter(agent => a.agent?.includes(String(agent.record_id))),\r\n            contacts: contacts.value.filter(c => a.contact?.includes(String(c.record_id)))\r\n        }\r\n    });\r\n    const filtered = list.filter(item => {\r\n        /*\r\n            filter by:\r\n            - dates DONE\r\n            - status DONE\r\n            - agents\r\n            - search DONE\r\n        */\r\n        const now = Date.now();\r\n        const appointmentDateInTS = new Date(item.appointment.date).getTime();\r\n        const conditions: boolean[] = [appointmentDateInTS > new Date(filter.value.from).getTime(), appointmentDateInTS < new Date(filter.value.to).getTime()];\r\n        switch (filter.value.status) {\r\n            case \"completed\":\r\n                conditions.push(appointmentDateInTS < now && !item.appointment.isCancelled)\r\n                break;\r\n            case \"upcoming\":\r\n                conditions.push(appointmentDateInTS > now && !item.appointment.isCancelled)\r\n                break;\r\n            case \"cancelled\":\r\n                conditions.push(item.appointment.isCancelled)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (filter.value.agents.length > 0) {\r\n            if (typeof item.appointment.agent !== \"object\") console.log(\"agent\", item.appointment.agent)\r\n            conditions.push(item.appointment.agent ? filter.value.agents.every(agent => item.appointment.agent.includes(agent)) : false);\r\n        }\r\n\r\n        if (filter.value.searchText) {\r\n            const contactsSearchText = item.contacts.map(c => c.name + c.surname + c.email + String(c.phone)).join(\" \");\r\n            const searchIn = (item.appointment.address + contactsSearchText).toLowerCase();\r\n            conditions.push(searchIn.includes(filter.value.searchText.toLowerCase()));\r\n        }\r\n        //console.log(\"id\", a.id, \"conditions\", conditions);\r\n        return conditions.every(c => c);\r\n    })\r\n\r\n    return filtered;\r\n})\r\n\r\nconst appointmentsToList = computed(() => {\r\n    return filteredAppointmentList.value.slice(pagination.value.offset, pagination.value.offset + pagination.value.pageSize);\r\n})\r\n\r\nonMounted(() => {\r\n    init();\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_SelectAgents = _resolveComponent(\"SelectAgents\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_DatePicker = _resolveComponent(\"DatePicker\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_AppointmentListItem = _resolveComponent(\"AppointmentListItem\")!\n  const _component_BottomPagination = _resolveComponent(\"BottomPagination\")!\n  const _component_AppointmentForm = _resolveComponent(\"AppointmentForm\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_SelectAgents, {\n          class: \"agentFilter\",\n          agents: agents.value,\n          modelValue: filter.value.agents,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (filter.value.agents = $event))\n        }, null, 8, [\"agents\", \"modelValue\"]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_component_v_select, {\n            modelValue: filter.value.status,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((filter.value.status) = $event)),\n            items: statusOptions,\n            label: \"Status\",\n            \"hide-details\": \"\"\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_DatePicker, {\n            \"model-value\": filter.value.from,\n            ref: \"fromRef\",\n            label: \"From\",\n            onDateChanged: _cache[2] || (_cache[2] = ($event: any) => (dateChanged('from', $event))),\n            \"disable-after\": filter.value.to,\n            class: \"mr-2\"\n          }, null, 8, [\"model-value\", \"disable-after\"]),\n          _createVNode(_component_DatePicker, {\n            \"model-value\": filter.value.to,\n            ref: \"toRef\",\n            label: \"To\",\n            onDateChanged: _cache[3] || (_cache[3] = ($event: any) => (dateChanged('to', $event))),\n            \"disable-before\": filter.value.from\n          }, null, 8, [\"model-value\", \"disable-before\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createVNode(_component_v_text_field, {\n            modelValue: filter.value.searchText,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((filter.value.searchText) = $event)),\n            label: \"Search\",\n            \"hide-details\": \"\"\n          }, null, 8, [\"modelValue\"])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"div\", _hoisted_7, _toDisplayString(filteredAppointmentList.value.length) + \" appointments found \", 1),\n        _createElementVNode(\"div\", null, [\n          _createVNode(_component_v_btn, {\n            color: \"hotPink\",\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (openAppointmentDialog()))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" + \"),\n              (_ctx.$vuetify.display.smAndUp)\n                ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                    _createTextVNode(\"Create appointment\")\n                  ], 64))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(appointmentsToList.value, (listItem, i) => {\n          return (_openBlock(), _createBlock(_component_AppointmentListItem, {\n            key: `appointment_${i}`,\n            appointment: listItem.appointment,\n            agents: listItem.agents,\n            contacts: listItem.contacts,\n            onClick: ($event: any) => (openAppointmentDialog(listItem.appointment))\n          }, null, 8, [\"appointment\", \"agents\", \"contacts\", \"onClick\"]))\n        }), 128))\n      ]),\n      _createVNode(_component_BottomPagination, {\n        pageSize: pagination.value.pageSize,\n        totalLength: filteredAppointmentList.value.length,\n        isLast: filteredAppointmentList.value.length < pagination.value.pageSize,\n        onPaginate: _cache[6] || (_cache[6] = ($event: any) => (paginate($event.offset)))\n      }, null, 8, [\"pageSize\", \"totalLength\", \"isLast\"])\n    ]),\n    _createVNode(_component_v_dialog, {\n      modelValue: appointmentDialog.value.open,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((appointmentDialog.value.open) = $event)),\n      persistent: \"\",\n      \"max-width\": \"600px\",\n      height: \"900px\"\n    }, {\n      default: _withCtx(() => [\n        (appointmentDialog.value.model)\n          ? (_openBlock(), _createBlock(_component_AppointmentForm, {\n              key: 0,\n              appointment: appointmentDialog.value.model,\n              contacts: contacts.value,\n              agents: agents.value,\n              appointments: appointments.value,\n              onCancel: closeAppointmentDialog,\n              \"onUpdate:modelValue\": saveAppointment\n            }, null, 8, [\"appointment\", \"contacts\", \"agents\", \"appointments\"]))\n          : (_openBlock(), _createBlock(_component_AppointmentForm, {\n              key: 1,\n              contacts: contacts.value,\n              agents: agents.value,\n              appointments: appointments.value,\n              onCancel: closeAppointmentDialog,\n              \"onUpdate:modelValue\": saveAppointment\n            }, null, 8, [\"contacts\", \"agents\", \"appointments\"]))\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n    <div class=\"main\">\r\n        <div class=\"filters\">\r\n            <!-- agents -->\r\n            <SelectAgents class=\"agentFilter\" :agents=\"agents\" :modelValue=\"filter.agents\"\r\n                @update:model-value=\"filter.agents = $event\" />\r\n            <!-- status -->\r\n            <div class=\"statusFilter\">\r\n                <v-select v-model=\"filter.status\" :items=\"statusOptions\" label=\"Status\" hide-details></v-select>\r\n            </div>\r\n            <!-- dates -->\r\n            <div class=\"dateFilter\">\r\n                <DatePicker :model-value=\"filter.from\" ref=\"fromRef\" label=\"From\"\r\n                    @date-changed=\"dateChanged('from', $event)\" :disable-after=\"filter.to\" class=\"mr-2\" />\r\n                <DatePicker :model-value=\"filter.to\" ref=\"toRef\" label=\"To\" @date-changed=\"dateChanged('to', $event)\"\r\n                    :disable-before=\"filter.from\" />\r\n            </div>\r\n\r\n            <!-- search -->\r\n            <div class=\"searchFilter\">\r\n                <v-text-field v-model=\"filter.searchText\" label=\"Search\" hide-details></v-text-field>\r\n            </div>\r\n        </div>\r\n        <div class=\"listHeader\">\r\n            <div style=\"font-weight: 600;\">{{ filteredAppointmentList.length }} appointments found\r\n                <!-- <div class=\"debug\"> from {{ filter.from }} - to {{ filter.to }}</div> -->\r\n            </div>\r\n\r\n            <div><v-btn color=\"hotPink\" @click=\"openAppointmentDialog()\"> + <template\r\n                        v-if=\"$vuetify.display.smAndUp\">Create\r\n                        appointment</template></v-btn></div>\r\n        </div>\r\n\r\n        <div class=\"list\">\r\n            <AppointmentListItem v-for=\"listItem, i in appointmentsToList\" :key=\"`appointment_${i}`\"\r\n                :appointment=\"listItem.appointment\" :agents=\"listItem.agents\" :contacts=\"listItem.contacts\"\r\n                @click=\"openAppointmentDialog(listItem.appointment)\" />\r\n        </div>\r\n        <BottomPagination :pageSize=\"pagination.pageSize\" :totalLength=\"filteredAppointmentList.length\"\r\n            :isLast=\"filteredAppointmentList.length < pagination.pageSize\" @paginate=\"paginate($event.offset)\" />\r\n    </div>\r\n\r\n    <v-dialog v-model=\"appointmentDialog.open\" persistent max-width=\"600px\" height=\"900px\">\r\n        <template v-if=\"appointmentDialog.model\">\r\n            <AppointmentForm :appointment=\"appointmentDialog.model\" :contacts=\"contacts\" :agents=\"agents\"\r\n                :appointments=\"appointments\" @cancel=\"closeAppointmentDialog\" @update:model-value=\"saveAppointment\" />\r\n        </template>\r\n        <template v-else>\r\n            <AppointmentForm :contacts=\"contacts\" :agents=\"agents\" :appointments=\"appointments\"\r\n                @cancel=\"closeAppointmentDialog\" @update:model-value=\"saveAppointment\" />\r\n        </template>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport type { Agent, Appointment, Contact, Vuetify } from \"../../types\";\r\nimport { COMMON } from \"../../utils\";\r\nimport { SERVICE } from \"../../service\";\r\nimport { useStore } from \"vuex\";\r\nimport { State } from \"@/store\";\r\n\r\nconst store = useStore<State>();\r\n\r\nconst agents = ref<Agent.Model[]>([]);\r\nconst contacts = ref<Contact.Model[]>([]);\r\nconst appointments = ref<Appointment.Model[]>([]);\r\n\r\ntype Status = \"\" | \"completed\" | \"upcoming\" | \"cancelled\";\r\n\r\nconst filter = ref<{\r\n    status: Status,\r\n    searchText: string,\r\n    from: string,\r\n    to: string,\r\n    agents: string[]\r\n}>({\r\n    status: \"\",\r\n    searchText: \"\",\r\n    from: COMMON.Dates.getISOStringFromTimestamp(Date.now() - COMMON.Dates.getMS(1, \"year\")),\r\n    to: COMMON.Dates.getISOStringFromTimestamp(Date.now() + COMMON.Dates.getMS(1, \"year\")),\r\n    agents: []\r\n})\r\nconst statusOptions: Vuetify.SelectOption<Status>[] = [\r\n    { title: \"All Statuses\", value: \"\" },\r\n    { title: \"Completed\", value: \"completed\" },\r\n    { title: \"Upcoming\", value: \"upcoming\" },\r\n    { title: \"Cancelled\", value: \"cancelled\" },\r\n];\r\n\r\nconst pagination = ref<{ pageSize: number, offset: number }>({ pageSize: 10, offset: 0 });\r\n\r\nconst appointmentDialog = ref<{ open: boolean, model?: Appointment.Model }>({ open: false, model: undefined });\r\n\r\nfunction paginate(offset: number) {\r\n    pagination.value.offset = offset;\r\n    //console.log(\"pagination\", pagination.value);\r\n}\r\nfunction dateChanged(origin: \"to\" | \"from\", date: string) {\r\n    console.log(\"dateChanged\")\r\n    filter.value[origin] = date;\r\n\r\n}\r\nfunction openAppointmentDialog(model?: Appointment.Model) {\r\n    if (model) appointmentDialog.value.model = model;\r\n    appointmentDialog.value.open = true;\r\n}\r\nfunction closeAppointmentDialog() {\r\n    appointmentDialog.value = { open: false, model: undefined };\r\n}\r\n\r\nasync function saveAppointment(model: Appointment.Model) {\r\n    try {\r\n        console.log(\"saveAppointment model\", model);\r\n        if (!appointmentDialog.value.open) return;\r\n\r\n        store.dispatch('SET_LOADING', true);\r\n\r\n        if (appointmentDialog.value.model) {\r\n            //console.log(\"updating appt\", appointmentDialog.value.model.record_id);\r\n            await SERVICE.Appointment.update(appointmentDialog.value.model.record_id, model);\r\n        } else {\r\n            console.log(\"creating appt\");\r\n            await SERVICE.Appointment.create(model);\r\n        }\r\n\r\n        await fetchAppointments(); // temp fix\r\n        // TODO: insert new appt to appointments.value manually\r\n\r\n        closeAppointmentDialog();\r\n    } catch (err) {\r\n        console.error(err)\r\n    } finally {\r\n        store.dispatch('SET_LOADING', false);\r\n    }\r\n\r\n}\r\n\r\nasync function fetchAppointments() {\r\n    const resp = await SERVICE.Appointment.fetchAll();\r\n    //console.log(\"appointments\", resp);\r\n    appointments.value = resp;\r\n}\r\n\r\nasync function fetchAgents() {\r\n    const resp = await SERVICE.Agent.fetchAll();\r\n    agents.value = resp;\r\n}\r\n\r\nasync function fetchContacts() {\r\n    const resp = await SERVICE.Contact.fetchAll();\r\n    contacts.value = resp;\r\n}\r\n\r\nasync function init() {\r\n    try {\r\n        //console.log(\"store.state\", store.state)\r\n        store.dispatch('SET_LOADING', true);\r\n        //console.log(\"store.state\", store.state)\r\n\r\n        await Promise.all([fetchAppointments(), fetchAgents(), fetchContacts()]);\r\n        // console.log(\"agents fetched\", agents.value);\r\n        // console.log(\"contacts fetched\", contacts.value);\r\n        // console.log(\"appointments fetched\", appointments.value);\r\n    } catch (err) {\r\n        console.error(\"init err\", err)\r\n    } finally {\r\n        store.dispatch('SET_LOADING', false);\r\n        //console.log(\"store.state\", store.state)\r\n    }\r\n\r\n}\r\n\r\nconst filteredAppointmentList = computed(() => {\r\n    const list = [...appointments.value].map(a => {\r\n        return {\r\n            appointment: a,\r\n            agents: agents.value.filter(agent => a.agent?.includes(String(agent.record_id))),\r\n            contacts: contacts.value.filter(c => a.contact?.includes(String(c.record_id)))\r\n        }\r\n    });\r\n    const filtered = list.filter(item => {\r\n        /*\r\n            filter by:\r\n            - dates DONE\r\n            - status DONE\r\n            - agents\r\n            - search DONE\r\n        */\r\n        const now = Date.now();\r\n        const appointmentDateInTS = new Date(item.appointment.date).getTime();\r\n        const conditions: boolean[] = [appointmentDateInTS > new Date(filter.value.from).getTime(), appointmentDateInTS < new Date(filter.value.to).getTime()];\r\n        switch (filter.value.status) {\r\n            case \"completed\":\r\n                conditions.push(appointmentDateInTS < now && !item.appointment.isCancelled)\r\n                break;\r\n            case \"upcoming\":\r\n                conditions.push(appointmentDateInTS > now && !item.appointment.isCancelled)\r\n                break;\r\n            case \"cancelled\":\r\n                conditions.push(item.appointment.isCancelled)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (filter.value.agents.length > 0) {\r\n            if (typeof item.appointment.agent !== \"object\") console.log(\"agent\", item.appointment.agent)\r\n            conditions.push(item.appointment.agent ? filter.value.agents.every(agent => item.appointment.agent.includes(agent)) : false);\r\n        }\r\n\r\n        if (filter.value.searchText) {\r\n            const contactsSearchText = item.contacts.map(c => c.name + c.surname + c.email + String(c.phone)).join(\" \");\r\n            const searchIn = (item.appointment.address + contactsSearchText).toLowerCase();\r\n            conditions.push(searchIn.includes(filter.value.searchText.toLowerCase()));\r\n        }\r\n        //console.log(\"id\", a.id, \"conditions\", conditions);\r\n        return conditions.every(c => c);\r\n    })\r\n\r\n    return filtered;\r\n})\r\n\r\nconst appointmentsToList = computed(() => {\r\n    return filteredAppointmentList.value.slice(pagination.value.offset, pagination.value.offset + pagination.value.pageSize);\r\n})\r\n\r\nonMounted(() => {\r\n    init();\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n    padding: 20px;\r\n}\r\n\r\n.filters {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n    padding: 20px 0px;\r\n    border-bottom: 2px solid black;\r\n}\r\n\r\n/* .agentFilter {\r\n    width: 200px\r\n} */\r\n\r\n/* .statusFilter {\r\n    width: 200px\r\n} */\r\n\r\n.dateFilter {\r\n    /* width: 500px; */\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.dateFilter>* {\r\n    width: 200px;\r\n}\r\n\r\n\r\n\r\n.searchFilter {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: auto;\r\n    width: 300px;\r\n}\r\n\r\n.listHeader {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    padding: 20px 0px;\r\n    border-bottom: 2px solid gray;\r\n}\r\n\r\n.list {\r\n    padding: 20px 0px;\r\n}\r\n\r\n.list> :nth-child(odd) {\r\n    background-color: var(--custom-gray);\r\n}\r\n\r\n.pagination {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: end;\r\n    gap: 5px;\r\n    padding: 20px 0px;\r\n\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n    .dateFilter {\r\n        display: block;\r\n    }\r\n\r\n    .dateFilter>* {\r\n        width: 100%;\r\n    }\r\n\r\n    .searchFilter {\r\n        width: 100%;\r\n    }\r\n}\r\n</style>\r\n","import script from \"./AppointmentList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AppointmentList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AppointmentList.vue?vue&type=style&index=0&id=5447f31b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5447f31b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-eaa98ae0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"listItem\" }\nconst _hoisted_2 = { class: \"info\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"contactInfo\"\n}\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = { class: \"addressInfo\" }\n\nimport { ref, computed, watch } from \"vue\";\r\nimport type { Appointment, Agent, Contact } from \"../../types\";\r\nimport { FILTER } from \"../../utils\";\r\n\r\ntype Props = {\r\n    appointment: Appointment.Model\r\n    agents: Agent.Model[],\r\n    contacts: Contact.Model[],\r\n    showContactInfo?: boolean\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AppointmentListItem',\n  props: {\n    appointment: {},\n    agents: {},\n    contacts: {},\n    showContactInfo: { type: Boolean, default: true }\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\r\nconst _appointment = ref<Appointment.Model>(props.appointment);\r\n\r\nconst agentsForAppointment = computed(() => {\r\n    const agentList = [...props.agents].filter(agent => agent.appointments.includes(_appointment.value.record_id));\r\n    return agentList;\r\n})\r\n\r\nconst maxString = FILTER.truncateString;\r\n\r\nwatch(() => props.appointment,\r\n    (newValue: Appointment.Model) => {\r\n        _appointment.value = newValue;\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_AppointmentStatus = _resolveComponent(\"AppointmentStatus\")!\n  const _component_AgentAvatarList = _resolveComponent(\"AgentAvatarList\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_ctx.showContactInfo)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            (_ctx.contacts[0])\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createElementVNode(\"div\", null, [\n                    _createVNode(_component_v_icon, null, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"mdi-account\")\n                      ]),\n                      _: 1\n                    }),\n                    _createTextVNode(),\n                    _createElementVNode(\"span\", null, _toDisplayString(_ctx.contacts[0].name) + \" \" + _toDisplayString(_ctx.contacts[0].surname), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createVNode(_component_v_icon, { class: \"mr-1\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"mdi-email\")\n                      ]),\n                      _: 1\n                    }),\n                    _createTextVNode(),\n                    _createElementVNode(\"span\", null, _toDisplayString(_ctx.contacts[0].email), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createVNode(_component_v_icon, { class: \"mr-1\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"mdi-phone\")\n                      ]),\n                      _: 1\n                    }),\n                    _createTextVNode(),\n                    _createElementVNode(\"span\", null, _toDisplayString(_ctx.contacts[0].phone), 1)\n                  ])\n                ], 64))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"No contact information\"))\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(_component_v_icon, { class: \"mr-1\" }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"mdi-home\")\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", null, _toDisplayString(_unref(maxString)(_appointment.value.address, 35)), 1)\n      ]),\n      _createVNode(_component_AppointmentStatus, { appointment: _appointment.value }, null, 8, [\"appointment\"])\n    ]),\n    _createVNode(_component_AgentAvatarList, {\n      class: \"agentInfo\",\n      agents: agentsForAppointment.value,\n      l2r: true,\n      limit: _ctx.$vuetify.display.smAndUp ? 3 : 1\n    }, null, 8, [\"agents\", \"limit\"])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"listItem\">\r\n        <div class=\"info\">\r\n            <div class=\"contactInfo\" v-if=\"showContactInfo\">\r\n                <template v-if=\"contacts[0]\">\r\n                    <div><v-icon>mdi-account</v-icon> <span>{{ contacts[0].name }} {{ contacts[0].surname }}</span>\r\n                    </div>\r\n                    <div><v-icon class=\"mr-1\">mdi-email</v-icon> <span>{{ contacts[0].email }}</span></div>\r\n                    <div><v-icon class=\"mr-1\">mdi-phone</v-icon> <span>{{ contacts[0].phone }}</span></div>\r\n                    <!-- <div class=\"debug\">id {{ _appointment.id }}</div> -->\r\n                </template>\r\n                <div v-else>No contact information</div>\r\n            </div>\r\n            <div class=\"addressInfo\">\r\n                <v-icon class=\"mr-1\">mdi-home</v-icon>\r\n                <div>{{ maxString(_appointment.address, 35) }}</div>\r\n            </div>\r\n            <AppointmentStatus :appointment=\"_appointment\" />\r\n        </div>\r\n\r\n        <AgentAvatarList class=\"agentInfo\" :agents=\"agentsForAppointment\" :l2r=\"true\"\r\n            :limit=\"$vuetify.display.smAndUp ? 3 : 1\" />\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, withDefaults, ref, computed, watch } from \"vue\";\r\nimport type { Appointment, Agent, Contact } from \"../../types\";\r\nimport { FILTER } from \"../../utils\";\r\n\r\ntype Props = {\r\n    appointment: Appointment.Model\r\n    agents: Agent.Model[],\r\n    contacts: Contact.Model[],\r\n    showContactInfo?: boolean\r\n};\r\nconst props = withDefaults(defineProps<Props>(), { showContactInfo: true });\r\n\r\nconst _appointment = ref<Appointment.Model>(props.appointment);\r\n\r\nconst agentsForAppointment = computed(() => {\r\n    const agentList = [...props.agents].filter(agent => agent.appointments.includes(_appointment.value.record_id));\r\n    return agentList;\r\n})\r\n\r\nconst maxString = FILTER.truncateString;\r\n\r\nwatch(() => props.appointment,\r\n    (newValue: Appointment.Model) => {\r\n        _appointment.value = newValue;\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.listItem {\r\n    display: grid;\r\n    grid-template-columns: 6fr 1fr;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 10px 40px;\r\n    margin-bottom: 5px;\r\n    border: 1px black solid;\r\n    border-radius: 5px;\r\n\r\n    cursor: pointer;\r\n\r\n}\r\n\r\n.listItem:hover {\r\n    background-color: #add8e6;\r\n    /* Slightly darker shade of lightblue */\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n    /* Add shadow on hover */\r\n}\r\n\r\n.info {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n    align-items: center;\r\n    justify-items: center;\r\n    gap: 10px;\r\n    /* padding: 10px 40px; */\r\n}\r\n\r\n.contactInfo {\r\n    justify-self: start;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n}\r\n\r\n.contactInfo> :first-child {\r\n    font-weight: 700;\r\n}\r\n\r\n.contactInfo> :not(:first-child) {\r\n    font-size: smaller;\r\n}\r\n\r\n.addressInfo {\r\n    justify-self: stretch;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    font-weight: 700;\r\n    /* max-width: 400px; */\r\n}\r\n\r\n.addressInfo>:nth-child(2) {\r\n    word-wrap: break-word;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n\r\n.agentInfo {\r\n    justify-self: center;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n    .listItem {\r\n        padding: 10px 20px;\r\n    }\r\n}\r\n</style>\r\n","import script from \"./AppointmentListItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AppointmentListItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AppointmentListItem.vue?vue&type=style&index=0&id=eaa98ae0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-eaa98ae0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-7bce423e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { style: {\"font-weight\":\"600\"} }\nconst _hoisted_3 = { class: \"appointmentList\" }\n\nimport { ref, reactive, computed, watch } from \"vue\";\r\nimport type { Agent, Appointment, Contact, Vuetify, Validation } from \"../../types\";\r\nimport { VALIDATOR } from \"../../utils\";\r\nimport type { VForm } from \"vuetify/components\";\r\n\r\ntype Props = {\r\n    appointment?: Appointment.Model | undefined;\r\n    contacts: Contact.Model[]\r\n    agents: Agent.Model[]\r\n    appointments: Appointment.Model[];\r\n}\r\ntype Emit = {\r\n    (e: \"update:model-value\", value: Appointment.Model): void;\r\n    (e: \"cancel\", value: void): void;\r\n};\r\ntype Form = {\r\n    valid: boolean | null,\r\n    data: {\r\n        address: string,\r\n        contactId: string,\r\n        agentIds: string[],\r\n        date: string\r\n        isCancelled: boolean\r\n    }\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AppointmentForm',\n  props: {\n    appointment: {},\n    contacts: {},\n    agents: {},\n    appointments: {}\n  },\n  emits: [\"update:model-value\", \"cancel\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props\r\n\r\n/* eslint-disable no-unused-vars */\r\nconst emit = __emit;\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst rules: Validation.Rules = {\r\n    required: [VALIDATOR.required]\r\n}\r\n\r\nconst mode = ref<\"Create\" | \"Edit\">(\"Create\");\r\n\r\nconst formRef = ref<VForm | null>(null);\r\n\r\nconst form = reactive<Form>({\r\n    valid: null,\r\n    data: {\r\n        address: \"\",\r\n        contactId: \"\",\r\n        agentIds: [],\r\n        date: new Date().toISOString(),\r\n        isCancelled: false\r\n    }\r\n});\r\n\r\nfunction cancel() {\r\n    emit(\"cancel\");\r\n}\r\nasync function isFormValid(): Promise<boolean> {\r\n    if (!formRef.value) return false;\r\n    const validation = await formRef.value.validate();\r\n    return validation.valid;\r\n}\r\nasync function save() {\r\n    if (!await isFormValid()) {\r\n        console.log(\"form not valid\");\r\n        return;\r\n    }\r\n\r\n    const newAppointment: Appointment.Model = {\r\n        address: form.data.address,\r\n        contact: [form.data.contactId],\r\n        agent: form.data.agentIds,\r\n        date: form.data.date,\r\n        isCancelled: form.data.isCancelled,\r\n        id: props.appointment ? props.appointment.id : \"\",\r\n        record_id: props.appointment ? props.appointment.record_id : \"\",\r\n    }\r\n    emit(\"update:model-value\", newAppointment);\r\n}\r\n\r\nfunction statusChanged(event: any) {\r\n    console.log(\"statusChanged\", event)\r\n}\r\n\r\nfunction dateChanged(date: string) {\r\n    form.data.date = date;\r\n}\r\n\r\nconst statusOptions: Vuetify.SelectOption<boolean>[] = [{\r\n    title: new Date(Date.now()) > new Date(form.data.date) ? \"Completed\" : \"Upcoming\",\r\n    value: false\r\n}, {\r\n    title: \"Cancelled\",\r\n    value: true\r\n}]\r\n\r\n\r\n\r\nconst agentOptions = computed<Vuetify.SelectOption<string>[]>(() => {\r\n    return props.agents.map(a => {\r\n        return {\r\n            title: `${a.name} ${a.surname}`,\r\n            value: a.record_id\r\n        }\r\n    })\r\n})\r\n\r\nconst contactOptions = computed<Vuetify.SelectOption<string>[]>(() => {\r\n    return props.contacts.map(c => {\r\n        return {\r\n            title: `${c.name} ${c.surname}`,\r\n            value: c.record_id\r\n        }\r\n    })\r\n})\r\n\r\nconst otherAppointmentsForContact = computed<Appointment.Model[]>(() => {\r\n    const currectContact = props.contacts.find(c => c.record_id == form.data.contactId);\r\n    if (!currectContact) {\r\n        //console.log(\"no currect contact\")\r\n        return [];\r\n    }\r\n    //console.log(\"currentContact record id\", currectContact.record_id, \"id\", currectContact.id)\r\n    const otherApps = props.appointments.filter(a => a.contact.includes(form.data.contactId));\r\n    return otherApps\r\n})\r\n\r\nwatch(() => props.appointment,\r\n    (newValue: Appointment.Model | undefined) => {\r\n        //console.log(\"watch: newValue\", newValue);\r\n        if (newValue) {\r\n            mode.value = \"Edit\";\r\n            form.data.address = newValue.address;\r\n            form.data.agentIds = newValue.agent;\r\n            form.data.date = newValue.date;\r\n            form.data.contactId = newValue.contact ? newValue.contact[0] : \"\";\r\n            form.data.isCancelled = newValue.isCancelled;\r\n        }\r\n\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_v_card_title = _resolveComponent(\"v-card-title\")!\n  const _component_v_autocomplete = _resolveComponent(\"v-autocomplete\")!\n  const _component_v_text_field = _resolveComponent(\"v-text-field\")!\n  const _component_v_select = _resolveComponent(\"v-select\")!\n  const _component_DatePicker = _resolveComponent(\"DatePicker\")!\n  const _component_v_form = _resolveComponent(\"v-form\")!\n  const _component_AppointmentListItem = _resolveComponent(\"AppointmentListItem\")!\n  const _component_v_card_item = _resolveComponent(\"v-card-item\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n\n  return (_openBlock(), _createBlock(_component_v_card, { class: \"formContainer\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card_title, { class: \"formTitle\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-calendar-blank\")\n            ]),\n            _: 1\n          }),\n          _createTextVNode(\" \" + _toDisplayString(mode.value) + \" an Appointment \", 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_card_item, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_form, {\n            ref_key: \"formRef\",\n            ref: formRef,\n            class: \"appointmentForm mb-7\",\n            modelValue: form.valid,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((form.valid) = $event)),\n            \"lazy-validation\": \"\",\n            onSubmit: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", null, [\n                _createVNode(_component_v_autocomplete, {\n                  modelValue: form.data.contactId,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((form.data.contactId) = $event)),\n                  items: contactOptions.value,\n                  rules: rules.required,\n                  label: \"Choose contact\",\n                  \"bg-color\": \"white\"\n                }, null, 8, [\"modelValue\", \"items\", \"rules\"])\n              ]),\n              _createElementVNode(\"div\", null, [\n                _createVNode(_component_v_text_field, {\n                  modelValue: form.data.address,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((form.data.address) = $event)),\n                  rules: rules.required,\n                  label: \"Address\",\n                  clearable: \"\",\n                  \"bg-color\": \"white\"\n                }, null, 8, [\"modelValue\", \"rules\"])\n              ]),\n              _createElementVNode(\"div\", null, [\n                _createVNode(_component_v_select, {\n                  modelValue: form.data.agentIds,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((form.data.agentIds) = $event)),\n                  items: agentOptions.value,\n                  multiple: \"\",\n                  rules: rules.required,\n                  label: \"Choose Agent(s)\",\n                  \"bg-color\": \"white\"\n                }, null, 8, [\"modelValue\", \"items\", \"rules\"])\n              ]),\n              _createElementVNode(\"div\", null, [\n                _createVNode(_component_DatePicker, {\n                  modelValue: form.data.date,\n                  label: \"Choose Date\",\n                  onDateChanged: _cache[3] || (_cache[3] = ($event: any) => (dateChanged($event)))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              (mode.value == 'edit')\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                    _createVNode(_component_v_select, {\n                      modelValue: form.data.isCancelled,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((form.data.isCancelled) = $event)),\n                      items: statusOptions,\n                      onChange: statusChanged,\n                      label: \"Status\",\n                      \"bg-color\": \"white\"\n                    }, null, 8, [\"modelValue\"])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]),\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"div\", _hoisted_2, \"Related Appointments: \" + _toDisplayString(otherAppointmentsForContact.value.length), 1),\n            _createElementVNode(\"div\", _hoisted_3, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(otherAppointmentsForContact.value, (app, i) => {\n                return (_openBlock(), _createBlock(_component_AppointmentListItem, {\n                  key: `app_${i}`,\n                  appointment: app,\n                  agents: _ctx.agents,\n                  contacts: [],\n                  showContactInfo: false\n                }, null, 8, [\"appointment\", \"agents\"]))\n              }), 128))\n            ])\n          ])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_v_card_actions, { class: \"mt-auto\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_btn, {\n            color: \"black\",\n            onClick: cancel\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Cancel\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_v_btn, {\n            color: \"hotPink\",\n            onClick: save\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(mode.value == \"Create\" ? mode.value : \"Save\"), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n    <v-card class=\"formContainer\">\r\n        <v-card-title class=\"formTitle\">\r\n            <v-icon>mdi-calendar-blank</v-icon> {{ mode }} an Appointment\r\n        </v-card-title>\r\n        <v-card-item>\r\n            <v-form ref=\"formRef\" class=\"appointmentForm mb-7\" v-model=\"form.valid\" lazy-validation @submit.prevent>\r\n                <!-- contact search -->\r\n                <div>\r\n                    <v-autocomplete v-model=\"form.data.contactId\" :items=\"contactOptions\" :rules=\"rules.required\"\r\n                        label=\"Choose contact\" bg-color=\"white\"></v-autocomplete>\r\n                </div>\r\n                <!-- address -->\r\n                <div>\r\n                    <v-text-field v-model=\"form.data.address\" :rules=\"rules.required\" label=\"Address\" clearable\r\n                        bg-color=\"white\"></v-text-field>\r\n                </div>\r\n                <!-- agent -->\r\n                <div>\r\n                    <v-select v-model=\"form.data.agentIds\" :items=\"agentOptions\" multiple :rules=\"rules.required\"\r\n                        label=\"Choose Agent(s)\" bg-color=\"white\"></v-select>\r\n                </div>\r\n                <!-- date -->\r\n                <div>\r\n                    <DatePicker :modelValue=\"form.data.date\" label=\"Choose Date\" @date-changed=\"dateChanged($event)\" />\r\n                </div>\r\n                <div v-if=\"mode == 'edit'\">\r\n                    <v-select v-model=\"form.data.isCancelled\" :items=\"statusOptions\" @change=\"statusChanged\"\r\n                        label=\"Status\" bg-color=\"white\"></v-select>\r\n                </div>\r\n            </v-form>\r\n            <!-- <div class=\"debug my-4\">\r\n                <div>props.appointment {{ JSON.stringify(appointment) }}</div>\r\n                <div>form {{ form }}</div>\r\n            </div> -->\r\n            <div>\r\n                <div style=\"font-weight: 600;\">Related Appointments: {{ otherAppointmentsForContact.length }}</div>\r\n                <div class=\"appointmentList\">\r\n                    <AppointmentListItem v-for=\"app, i in otherAppointmentsForContact\" :key=\"`app_${i}`\"\r\n                        :appointment=\"app\" :agents=\"agents\" :contacts=\"[]\" :showContactInfo=\"false\" />\r\n                </div>\r\n            </div>\r\n\r\n        </v-card-item>\r\n        <v-card-actions class=\"mt-auto\">\r\n            <v-btn color=\"black\" @click=\"cancel\">Cancel</v-btn>\r\n            <v-btn color=\"hotPink\" @click=\"save\">{{ mode == \"Create\" ? mode : \"Save\" }}</v-btn>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, ref, reactive, computed, watch, defineEmits } from \"vue\";\r\nimport type { Agent, Appointment, Contact, Vuetify, Validation } from \"../../types\";\r\nimport { VALIDATOR } from \"../../utils\";\r\nimport type { VForm } from \"vuetify/components\";\r\n\r\ntype Props = {\r\n    appointment?: Appointment.Model | undefined;\r\n    contacts: Contact.Model[]\r\n    agents: Agent.Model[]\r\n    appointments: Appointment.Model[];\r\n}\r\nconst props = defineProps<Props>()\r\n\r\n/* eslint-disable no-unused-vars */\r\ntype Emit = {\r\n    (e: \"update:model-value\", value: Appointment.Model): void;\r\n    (e: \"cancel\", value: void): void;\r\n};\r\nconst emit = defineEmits<Emit>();\r\n/* eslint-enable no-unused-vars */\r\n\r\nconst rules: Validation.Rules = {\r\n    required: [VALIDATOR.required]\r\n}\r\n\r\nconst mode = ref<\"Create\" | \"Edit\">(\"Create\");\r\n\r\nconst formRef = ref<VForm | null>(null);\r\n\r\ntype Form = {\r\n    valid: boolean | null,\r\n    data: {\r\n        address: string,\r\n        contactId: string,\r\n        agentIds: string[],\r\n        date: string\r\n        isCancelled: boolean\r\n    }\r\n}\r\nconst form = reactive<Form>({\r\n    valid: null,\r\n    data: {\r\n        address: \"\",\r\n        contactId: \"\",\r\n        agentIds: [],\r\n        date: new Date().toISOString(),\r\n        isCancelled: false\r\n    }\r\n});\r\n\r\nfunction cancel() {\r\n    emit(\"cancel\");\r\n}\r\nasync function isFormValid(): Promise<boolean> {\r\n    if (!formRef.value) return false;\r\n    const validation = await formRef.value.validate();\r\n    return validation.valid;\r\n}\r\nasync function save() {\r\n    if (!await isFormValid()) {\r\n        console.log(\"form not valid\");\r\n        return;\r\n    }\r\n\r\n    const newAppointment: Appointment.Model = {\r\n        address: form.data.address,\r\n        contact: [form.data.contactId],\r\n        agent: form.data.agentIds,\r\n        date: form.data.date,\r\n        isCancelled: form.data.isCancelled,\r\n        id: props.appointment ? props.appointment.id : \"\",\r\n        record_id: props.appointment ? props.appointment.record_id : \"\",\r\n    }\r\n    emit(\"update:model-value\", newAppointment);\r\n}\r\n\r\nfunction statusChanged(event: any) {\r\n    console.log(\"statusChanged\", event)\r\n}\r\n\r\nfunction dateChanged(date: string) {\r\n    form.data.date = date;\r\n}\r\n\r\nconst statusOptions: Vuetify.SelectOption<boolean>[] = [{\r\n    title: new Date(Date.now()) > new Date(form.data.date) ? \"Completed\" : \"Upcoming\",\r\n    value: false\r\n}, {\r\n    title: \"Cancelled\",\r\n    value: true\r\n}]\r\n\r\n\r\n\r\nconst agentOptions = computed<Vuetify.SelectOption<string>[]>(() => {\r\n    return props.agents.map(a => {\r\n        return {\r\n            title: `${a.name} ${a.surname}`,\r\n            value: a.record_id\r\n        }\r\n    })\r\n})\r\n\r\nconst contactOptions = computed<Vuetify.SelectOption<string>[]>(() => {\r\n    return props.contacts.map(c => {\r\n        return {\r\n            title: `${c.name} ${c.surname}`,\r\n            value: c.record_id\r\n        }\r\n    })\r\n})\r\n\r\nconst otherAppointmentsForContact = computed<Appointment.Model[]>(() => {\r\n    const currectContact = props.contacts.find(c => c.record_id == form.data.contactId);\r\n    if (!currectContact) {\r\n        //console.log(\"no currect contact\")\r\n        return [];\r\n    }\r\n    //console.log(\"currentContact record id\", currectContact.record_id, \"id\", currectContact.id)\r\n    const otherApps = props.appointments.filter(a => a.contact.includes(form.data.contactId));\r\n    return otherApps\r\n})\r\n\r\nwatch(() => props.appointment,\r\n    (newValue: Appointment.Model | undefined) => {\r\n        //console.log(\"watch: newValue\", newValue);\r\n        if (newValue) {\r\n            mode.value = \"Edit\";\r\n            form.data.address = newValue.address;\r\n            form.data.agentIds = newValue.agent;\r\n            form.data.date = newValue.date;\r\n            form.data.contactId = newValue.contact ? newValue.contact[0] : \"\";\r\n            form.data.isCancelled = newValue.isCancelled;\r\n        }\r\n\r\n    },\r\n    { immediate: true, deep: true }\r\n)\r\n</script>\r\n\r\n<style scoped>\r\n.formContainer {\r\n    background-color: var(--custom-gray);\r\n}\r\n\r\n.formTitle {\r\n    text-align: center;\r\n    font-weight: 600;\r\n}\r\n\r\n.appointmentForm>* {\r\n    margin-bottom: 10px\r\n}\r\n\r\n.appointmentList>* {\r\n    background-color: white;\r\n    margin-bottom: 10px;\r\n}\r\n</style>\r\n","import script from \"./AppointmentForm.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AppointmentForm.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AppointmentForm.vue?vue&type=style&index=0&id=7bce423e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bce423e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = (n: any) => (_pushScopeId(\"data-v-cf1ff550\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"dateAndStatusInfo\" }\nconst _hoisted_2 = { class: \"statusInfo\" }\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = { class: \"dateInfo\" }\n\nimport { computed } from \"vue\";\r\nimport type { Appointment } from \"../../types\";\r\nimport { COMMON, APPOINTMENT } from \"../../utils\";\r\n\r\ntype Props = {\r\n    appointment: Appointment.Model\r\n};\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AppointmentStatus',\n  props: {\n    appointment: {}\n  },\n  setup(__props: any) {\n\r\nconst props = __props;\r\n\r\nconst status = computed<Appointment.Status>(() => {\r\n    return APPOINTMENT.getStatus(props.appointment);\r\n})\r\n\r\nconst formatDateTime = COMMON.Dates.formatDateTime;\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", {\n        style: _normalizeStyle({ color: status.value.color })\n      }, _toDisplayString(status.value.kind), 5),\n      (status.value.kind == 'Upcoming')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString(status.value.remainingDays) + \" days\", 1))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_v_icon, { class: \"mr-1\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"mdi-clock-time-five-outline\")\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"span\", null, _toDisplayString(_unref(formatDateTime)(_ctx.appointment.date)), 1)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"dateAndStatusInfo\">\r\n        <div class=\"statusInfo\">\r\n            <div :style=\"{ color: status.color }\">{{ status.kind }}</div>\r\n            <div v-if=\"status.kind == 'Upcoming'\">{{ status.remainingDays }} days</div>\r\n        </div>\r\n        <div class=\"dateInfo\">\r\n            <v-icon class=\"mr-1\">mdi-clock-time-five-outline</v-icon>\r\n            <span>{{ formatDateTime(appointment.date) }}</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { defineProps, computed } from \"vue\";\r\nimport type { Appointment } from \"../../types\";\r\nimport { COMMON, APPOINTMENT } from \"../../utils\";\r\n\r\ntype Props = {\r\n    appointment: Appointment.Model\r\n};\r\nconst props = defineProps<Props>();\r\n\r\nconst status = computed<Appointment.Status>(() => {\r\n    return APPOINTMENT.getStatus(props.appointment);\r\n})\r\n\r\nconst formatDateTime = COMMON.Dates.formatDateTime;\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.dateAndStatusInfo {\r\n    justify-self: stretch;\r\n\r\n    display: grid;\r\n    align-items: center;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 5px;\r\n\r\n    padding: 5px 5px;\r\n    background-color: var(--custom-pink);\r\n    border-radius: 15px;\r\n    color: white\r\n}\r\n\r\n.dateAndStatusInfo>.statusInfo {\r\n    justify-self: stretch;\r\n\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    gap: 5px;\r\n\r\n    background-color: white;\r\n    color: black;\r\n\r\n    border-radius: 10px;\r\n    padding: 10px 5px;\r\n}\r\n\r\n.dateAndStatusInfo>.statusInfo>:first-child {\r\n    font-weight: 700;\r\n}\r\n\r\n.dateAndStatusInfo>.dateInfo {\r\n    padding: 5px 15px;\r\n}\r\n</style>\r\n","import script from \"./AppointmentStatus.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AppointmentStatus.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AppointmentStatus.vue?vue&type=style&index=0&id=cf1ff550&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cf1ff550\"]])\n\nexport default __exports__","import type { App } from \"vue\";\r\n//Components\r\nimport LoadSpinner from \"./components/LoadSpinner.vue\";\r\nimport DatePicker from \"./components/DatePicker.vue\";\r\nimport BottomPagination from \"./components/BottomPagination.vue\";\r\n\r\n//import AgentAvatar from \"./components/Agent/AgentAvatar.vue\";\r\nimport AgentAvatarList from \"./components/Agent/AgentAvatarList.vue\";\r\nimport SelectAgents from \"./components/Agent/SelectAgents.vue\";\r\nimport AppointmentList from \"./components/Appointment/AppointmentList.vue\";\r\nimport AppointmentListItem from \"./components/Appointment/AppointmentListItem.vue\";\r\nimport AppointmentForm from \"./components/Appointment/AppointmentForm.vue\";\r\nimport AppointmentStatus from \"./components/Appointment/AppointmentStatus.vue\";\r\n\r\nexport const registerGlobalComponents = {\r\n    install(app: App<Element>) {\r\n        app.\r\n            component(\"BottomPagination\", BottomPagination).\r\n            component(\"LoadSpinner\", LoadSpinner).\r\n            component(\"DatePicker\", DatePicker).\r\n            component(\"AppointmentList\", AppointmentList).\r\n            component(\"AgentAvatarList\", AgentAvatarList).\r\n            component(\"SelectAgents\", SelectAgents).\r\n            component(\"AppointmentListItem\", AppointmentListItem).\r\n            component(\"AppointmentForm\", AppointmentForm).\r\n            component(\"AppointmentStatus\", AppointmentStatus)\r\n    }\r\n};","import \"vuetify/styles\"\r\nimport { createVuetify } from \"vuetify\";\r\nimport * as components from \"vuetify/components\";\r\nimport * as directives from \"vuetify/directives\";\r\nimport \"@mdi/font/css/materialdesignicons.css\";\r\n\r\nexport const vuetifyPlugin = createVuetify({\r\n    components,\r\n    directives,\r\n    icons: {\r\n        defaultSet: \"mdi\",\r\n    },\r\n    theme: {\r\n        themes: {\r\n            light: {\r\n                dark: false,\r\n                colors: {\r\n                    hotPink: \"rgb(243, 109, 131)\"\r\n                }\r\n            },\r\n        },\r\n    },\r\n});\r\n","import { createStore, Commit } from 'vuex';\r\n\r\n// Define types\r\ninterface State {\r\n  isLoading: boolean;\r\n}\r\n\r\n// Define mutations\r\nenum MutationTypes {\r\n  SET_LOADING = 'SET_LOADING',\r\n}\r\n\r\ninterface Mutations {\r\n  [MutationTypes.SET_LOADING](state: State, payload: boolean): void;\r\n}\r\n\r\n// Define actions\r\nenum ActionTypes {\r\n  SET_LOADING = 'SET_LOADING',\r\n}\r\n\r\ninterface Actions {\r\n  [ActionTypes.SET_LOADING]({ commit }: { commit: Commit }, payload: boolean): void;\r\n}\r\n\r\n// Define getters\r\ninterface Getters {\r\n  isLoading(state: State): boolean;\r\n}\r\n\r\n// Initial state\r\nconst initialState: State = {\r\n  isLoading: false,\r\n};\r\n\r\n// Vuex store instance\r\nconst store = createStore<State>({\r\n  state: initialState,\r\n  mutations: {\r\n    [MutationTypes.SET_LOADING](state, payload) {\r\n      state.isLoading = payload;\r\n    },\r\n  },\r\n  actions: {\r\n    [ActionTypes.SET_LOADING]({ commit }, payload) {\r\n      commit(MutationTypes.SET_LOADING, payload);\r\n    },\r\n  },\r\n  getters: {\r\n    isLoading: (state) => state.isLoading,\r\n  },\r\n});\r\n\r\nexport default store;\r\n\r\n// Export types for composition API usage\r\nexport { State, Mutations, Actions, Getters };","<template>\n  <LoadSpinner />\n  <AppointmentList />\n</template>\n\n<script lang=\"ts\" setup>\n</script>\n\n<style>\n* {\n  margin: 0px;\n  --custom-pink: rgb(243, 109, 131);\n  --custom-gray: rgb(197, 219, 231);\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n.debug {\n  background-color: lightgray;\n  padding: 5px;\n  font-size: small;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=68042dac\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=68042dac&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\nimport { registerGlobalComponents } from \"./register-component\";\nimport { vuetifyPlugin } from \"./vuetify-plugin\";\nimport store from \"./store\";\nimport App from \"./App.vue\";\n\nconst app = createApp(App);\n\napp.use(registerGlobalComponents).use(vuetifyPlugin).use(store).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmeeting_manager\"] = self[\"webpackChunkmeeting_manager\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8507); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_defineComponent","__name","setup","__props","store","useStore","isLoading","computed","getters","_ctx","_cache","_component_v_progress_circular","_resolveComponent","_component_v_card_text","_component_v_card_title","_component_v_card","_component_v_dialog","_openBlock","_createBlock","modelValue","value","$event","persistent","width","default","_withCtx","_createVNode","color","indeterminate","size","_","style","_createTextVNode","__exports__","_hoisted_1","class","_hoisted_2","props","label","disableAfter","disableBefore","emits","emit","__emit","menu","ref","ISOdateString","Date","toISOString","date","get","set","val","localDateString","toLocaleDateString","updateTimestamp","isDateAllowed","cond1","cond2","watch","newValue","immediate","deep","_component_v_text_field","_component_v_date_picker","_component_v_menu","_createElementBlock","_createElementVNode","transition","activator","menuProps","_normalizeProps","_guardReactiveProps","readonly","totalLength","pageSize","isLast","type","Boolean","smAndDown","useDisplay","pagination","current","async","paginate","to","offset","totalPagesPossible","Math","ceil","buttons","paginationArray","start","max","end","min","i","push","buttonSize","_component_v_icon","_component_v_btn","disabled","onClick","_Fragment","_renderList","key","small","_toDisplayString","agents","l2r","limit","avatars","map","item","text","name","surname","tooltip","overAmount","length","slice","o","join","_component_v_avatar","_component_v_tooltip","location","tooltipProps","_mergeProps","ref_for","selectedAgents","_component_AgentAvatarList","_component_v_checkbox","_component_v_list_item","_component_v_list","$vuetify","display","smAndUp","agent","record_id","density","COMMON","FILTER","APPOINTMENT","VALIDATOR","deepCopy","original","JSON","parse","stringify","Dates","getISOStringFromTimestamp","timestamp","getDaysBetweenTimestamps","ts1","ts2","diffInMs","abs","msInDay","diffInDays","floor","getMS","amount","unit","hourInMS","dateStringToTS","str","getTime","formatDateTime","day","String","getDate","padStart","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","isoDateToLocal","formatDate","ts","dateOptions","timeOptions","hour","minute","hour12","formattedDate","Intl","DateTimeFormat","format","formattedTime","formattedDateTime","truncateString","useEllipsis","substring","getStatus","appointment","isCancelled","kind","now","remainingDays","recordsToModel","record","fields","appt","id","appointment_id","address","appointment_address","appointment_date","is_cancelled","contact","contact_id","agent_id","exists","undefined","required","apiKey","process","baseID","base","Airtable","AppointmentService","AgentService","ContactService","tableName","fetchAll","records","select","all","console","log","appointments","r","sort","a1","a2","error","create","list","update","updates","number","agent_name","agent_surname","contacts","contact_name","contact_surname","email","contact_email","phone","contact_phone","SERVICE","Appointment","Agent","Contact","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","filter","status","searchText","from","statusOptions","title","appointmentDialog","open","model","dateChanged","origin","openAppointmentDialog","closeAppointmentDialog","saveAppointment","dispatch","fetchAppointments","err","resp","fetchAgents","fetchContacts","init","Promise","filteredAppointmentList","a","includes","c","filtered","appointmentDateInTS","conditions","every","contactsSearchText","searchIn","toLowerCase","appointmentsToList","onMounted","_component_SelectAgents","_component_v_select","_component_DatePicker","_component_AppointmentListItem","_component_BottomPagination","_component_AppointmentForm","items","onDateChanged","_createCommentVNode","listItem","onPaginate","height","onCancel","showContactInfo","_appointment","agentsForAppointment","agentList","maxString","_component_AppointmentStatus","_unref","rules","mode","formRef","form","reactive","valid","data","contactId","agentIds","cancel","isFormValid","validation","validate","save","newAppointment","statusChanged","event","agentOptions","contactOptions","otherAppointmentsForContact","currectContact","find","otherApps","_component_v_autocomplete","_component_v_form","_component_v_card_item","_component_v_card_actions","ref_key","onSubmit","_withModifiers","clearable","multiple","onChange","app","_normalizeStyle","registerGlobalComponents","install","component","BottomPagination","LoadSpinner","DatePicker","AppointmentList","AgentAvatarList","SelectAgents","AppointmentListItem","AppointmentForm","AppointmentStatus","vuetifyPlugin","createVuetify","components","directives","icons","defaultSet","theme","themes","light","dark","colors","hotPink","MutationTypes","ActionTypes","initialState","createStore","state","mutations","SET_LOADING","payload","actions","commit","_component_LoadSpinner","_component_AppointmentList","script","render","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","splice","n","getter","__esModule","d","definition","defineProperty","enumerable","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}